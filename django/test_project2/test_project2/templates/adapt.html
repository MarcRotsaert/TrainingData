<!DOCTYPE html>
{% extends "summary.html" %}
{% comment %} {% extends "base.html" %} {% endcomment %}
{% load static %}
{% load cache %}

{% block adapt_block %}
  {% if locationform %}
  <div class="container">
    <div class="row">
        <div class="col">
            <form method="POST", enctype="multipart/form-data">
                {% comment %} {{form.as_p}} {% endcomment %}
                {{ locationform.as_p }}
                {% csrf_token %}
                <input type="submit" class="btn btn-primary", value="Commit" method="POST">
                {% comment %} <input type=" text" id="text-box" size="20" value="Hello world!" /> {% endcomment %}
            {% comment %} </form> {% endcomment %}
        </div>
    </div>
    </div>
    {% endif %} 
  {% endblock %}
 
{% block traintab_block %}
  <table name="traindata">
    <tr>
            <th>Date</th>
            <th>location</th>
            <th>Distance(m)</th>
            <th>vel avg(km/u)</th>
            <th>Hsl avg(bpm)</th>
            <th>training description</th>
        </tr>
        <p>{% cache 360 "training_data" %}
          {% for training in trainingen|dictsort:"startTime" %} 
            <tr value={{training.fname}}  
            name="traindata" 
            id="traindata"
            data-url="{% url 'test_polar:showform' %}">
            <td>{{training.startTime|slice:":10"}}</td> 
            
            {% if training.location != None %}
            <td id="location" onclick="showForm(this)">{{training.location|upper}}</td>
            {% else %}
            <td id="location" onclick="showForm(this)">not defined</td>
            {% endif %}
            <td>{{training.distance|floatformat:0}}</td>
            <td>{{training.speed.avg|floatformat:1}}</td>
            <td>{{training.averageHeartRate|floatformat:0}} / {{training.maximumHeartRate|floatformat:0}}
            </td>
            <td id="tdescr" onclick="showLapdata(this)">{{training.trainingdescription.description|linebreaks}}</td>
        </tr>
        {% endfor %}
        {% endcache %}
    </p>
    <br><br>
    {% endblock %}
 
</html>    